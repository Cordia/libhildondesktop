2008-11-11  Jan Arne Petersen  <jpetersen@openismus.com>

	* libhildondesktop/hd-home-plugin-item.c
	  (create_applet_id): Add a function to generate an unique ID which
	  can be used as gconf key.
	  (hd_home_plugin_item_realize): Set _HILDON_APPLET_ID to ID generated
	  by the create_applet_id function.

	* libhildondesktop/hd-shortcuts.c:
	* libhildondesktop/hd-shortcuts.h: Moved from hildon-home (made more
	generic by Xavier Claessens <xavier.claessens@collabora.co.uk>). Fixes
	NB#90553.

	* libhildondesktop/libhildondesktop.h: Add hd-shortcuts.h.
	* libhildondesktop/Makefile.am: Add hd-shortcuts.[ch].

2008-11-06  Jan Arne Petersen  <jpetersen@openismus.com>

	* libhildondesktop/hd-plugin-manager.c
	(hd_plugin_manager_load_plugin): Fix crash if applet could not be
	loaded.

2008-10-31  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/control:
	* debian/rules: Fix lintian warnings.

2008-10-31  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/changelog: Release 2.1.6

2008-10-30  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/changelog: Prepare for 2.1.6 release.

	* libhildondesktop/hd-config-file.c
	  (hd_config_file_new_with_defaults): Add new convenience function to
	  create a HDConfigFile instance with the default directories.
	  (hd_config_file_load_file): Add support for empty user config files,
	  i.e. no applet selected.
	  (hd_config_file_save_file): Add function to atomically store a key
	  file (atomically).
	* libhildondesktop/hd-config-file.h: Add new function protoypes.

	* libhildondesktop/hd-plugin-configuration.c: Rename
	  plugin-configuration to items-configuration.
	  (hd_plugin_configuration_store_items_key_file): Add function to
	  store the items key file (atomically).

	* libhildondesktop/hd-plugin-configuration.h: Rename
	  plugin-configuration to items-configuration. Add new function
	  protoypes.

	* libhildondesktop/hd-plugin-manager.c: Update to
	HDPluginConfiguration changes.

2008-10-29  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac: Increase version to 2.1.6.

	* libhildondesktop/Makefile.am: Add hd-plugin-configuration.[ch] to
	SOURCES.

	* libhildondesktop/hd-config-file.c:
	* libhildondesktop/hd-config-file.h: Use GInitiallyUnowned as
	parent class.

	* libhildondesktop/hd-plugin-configuration.c:
	* libhildondesktop/hd-plugin-configuration.h: Create a new base class
	for HDPluginManager which contains all the plugin configuration
	related code. This base class can also be used by HDAppletManager in
	hildon-desktop to manage plugins without loading them.

	* libhildondesktop/hd-plugin-manager.c:
	* libhildondesktop/hd-plugin-manager.h: Uses the new
	HDPluginConfiguration base class.

	* libhildondesktop/libhildondesktop.h: Add hd-plugin-configuration.h.

2008-10-16  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/rules: Add call of autogen.sh to makebuilddir to generate
	the configure scripts.

2008-10-16  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac:
	* debian/changelog: Prepare 2.1.5 release.

2008-10-16  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/compat: Set compat to 5.

	* debian/control: Requires debhelper (>= 5) and cdbs.

	* debian/libhildondesktop1-dev.install:
	* debian/libhildondesktop1-doc.install:
	* debian/libhildondesktop1-examples.install:
	* debian/libhildondesktop1.install: Update install paths for switch to
	cdbs.

	* debian/rules: Switch buildsystem to use cdbs.

2008-10-16  Jan Arne Petersen  <jpetersen@openismus.com>

	* libhildondesktop/hd-home-plugin-item.c
	  (hd_home_plugin_item_load_desktop_file): Load default values from
	  .desktop file.
	  (hd_home_plugin_item_init_plugin_item): Implement virtual
	  load_desktop_file function.
	  (hd_home_plugin_item_realize): Set X Window properties.

2008-09-24  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/changelog: Released 2.1.4

2008-09-24  Jan Arne Petersen  <jpetersen@openismus.com>

	* libhildondesktop/hd-plugin-manager.c
	  (hd_plugin_manager_plugin_configuration_loaded): Only load safe set
	  of plugins if in safe mode after a crash.

	* libhildondesktop/hd-stamp-file.c (hd_stamp_file_init): Warn if stamp
	file could not be created.

2008-09-24  Jan Arne Petersen  <jpetersen@openismus.com>

	* libhildondesktop/hd-notification.c:
	* libhildondesktop/hd-notification.h: Add HDNotification class.

	* libhildondesktop/hd-notification-plugin.c
	  (hd_notification_plugin_notify):
	* libhildondesktop/hd-notification-plugin.h: Use HDNotification.
	Remove ::closed signal.

	* examples/notification/example-notification-plugin.c: Use the updated
	notification plugin API.

	* libhildondesktop/Makefile.am: Add hd-notification.[ch].

	* libhildondesktop/libhildondesktop.h: Add hd-notification.h

	* doc/libhildondesktop-docs.xml: Add documentation for HDNotification
	and HDHomePluginItem.

	* doc/libhildondesktop-sections.txt: Add documentation for
	HDNotification and HDHomePluginItem.

	* doc/libhildondesktop.types: Add missing types.

	* libhildondesktop/hd-plugin-manager.c
	  (hd_plugin_manager_configuration_loaded): Don't call g_strstrip with
	  a NULL argument.

2008-09-15  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac: Fix hildonhomedesktopentrydir expansion.

	* libhildondesktop/libhildondesktop.pc.in: Add
	hildonhomedesktopentrydir vairable.

2008-09-15  Jan Arne Petersen  <jpetersen@openismus.com>

	* libhildondesktop/hd-plugin-loader-default.c
	  (hd_plugin_loader_default_open_module,
	  hd_plugin_loader_default_load): Change plugin type to GObject.
	* libhildondesktop/hd-plugin-loader-factory.c
	  (hd_plugin_loader_factory_new, hd_plugin_loader_factory_create):
	  Change plugin type to GObject.

	* libhildondesktop/hd-plugin-loader-factory.h: Change plugin type to
	GObject.

	* libhildondesktop/hd-plugin-loader.c: Change plugin type to GObject.
	* libhildondesktop/hd-plugin-loader.h: Change plugin type to GObject.

	* libhildondesktop/hd-plugin-module.c (hd_plugin_module_new): Change
	plugin type to GObject.
	* libhildondesktop/hd-plugin-module.h: Change plugin type to GObjct.

	* libhildondesktop/hd-plugin-manager.c
	  (hd_plugin_manager_load_plugin): Change plugin type to GObject.
	  (hd_plugin_manager_plugin_module_added, hd_plugin_manager_class_init,
	  hd_plugin_manager_new): Move stamp file support to
	  hd-stamp-file[ch].

	* libhildondesktop/hd-plugin-manager.h: Move stamp file support to
	hd-stamp-file[ch].

	* libhildondesktop/Makefile.am: Add hd-stamp-file.[ch].

	* libhildondesktop/hd-stamp-file.c:
	* libhildondesktop/hd-stamp-file.h: Add stamp file support from
	HDPluginManager and hildon-status-menu.c.

	* libhildondesktop/libhildondesktop.h: Add hd-stamp-file.h

2008-09-13  Jan Arne Petersen  <jpetersen@openismus.com>

	* libhildondesktop/hd-plugin-item.c
	  (hd_plugin_item_load_desktop_file): Add support to load data from a
	  .desktop file.
	* libhildondesktop/hd-plugin-item.h (load_desktop_file): Add virtual
	load_desktop_file function which can be overridden to read additional
	data from the .desktop file.

	* libhildondesktop/hd-plugin-loader-default.c
	  (hd_plugin_loader_default_open_module): Call
	  hd_plugin_item_load_desktop_file if the loaded plugin is a
	  HDPluginItem.

2008-09-12  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/libhildondesktop1-examples.install: Install example home
	applet .desktop file.

	* configure.ac:
	* examples/Makefile.am:
	* examples/home/Makefile.am:
	* examples/home/example-label-applet.desktop:
	* examples/home/example-label-home-applet.c:
	* examples/home/example-label-home-applet.h: Add example home applet
	plugin.

	* libhildondesktop/Makefile.am: Add hd-home-plugin-item.[ch]

	* libhildondesktop/hd-home-plugin-item.c:
	* libhildondesktop/hd-home-plugin-item.h: Add home applet plugin API.

	* libhildondesktop/hd-status-plugin-item.c
	  (hd_status_plugin_item_get_dl_filename): Call
	  hd_plugin_item_get_dl_filename instead of another implementation.

	* libhildondesktop/libhildondesktop.h: Add hd-home-plugin-item.h and
	hd-heartbeat.h.

2008-09-12  Jan Arne Petersen  <jpetersen@openismus.com>

	* libhildondesktop/Makefile.am: Add hd-heartbeat.[ch].

	* libhildondesktop/hd-heartbeat.c 
	  (hd_heartbeat_source_new, hd_heartbeat_add,
	   hd_heartbeat_add_full):
	* libhildondesktop/hd-heartbeat.h: Extract the heartbeat code from
	HDStatusPluginItem to make it easier to use it from the
	HDHomePluginItem.

	* libhildondesktop/hd-status-plugin-item.c
	  (hd_status_plugin_item_heartbeat_signal_add): Use
	  hd_heartbeat_add_full and refactor heartbeat code into own file.

2008-09-12  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac: Increase version. Add
	hildonnotificationdesktopentrydir variable. Add notification plugin
	example.

	* debian/libhildondesktop1-examples.install: Add notification plugin
	example.

	* doc/libhildondesktop-docs.xml: Add HDNotificationPlugin doc.
	* doc/libhildondesktop-sections.txt: Add HDNotificationPlugin doc.

	* examples/Makefile.am: Add notification plugin example.

	* examples/notification/Makefile.am: 
	* examples/notification/example-notification-plugin.c:
	* examples/notification/example-notification-plugin.h:
	* examples/notification/example-notification.desktop: Add notification plugin example.

	* libhildondesktop/Makefile.am: Add HDNotificationPlugin.

	* libhildondesktop/hd-notification-plugin.c:
	* libhildondesktop/hd-notification-plugin.h: Add HDNotificationPlugin.
	
	* libhildondesktop/hd-plugin-module.c (hd_plugin_module_new_object):
	  Only set the "plugin-id" property if the plugin is a HDPluginItem.
	  (hd_plugin_module_add_type): Add support for non HDPluginItem
	  plugins.

	* libhildondesktop/hd-plugin-module.h: Remove not working
	HD_DEFINE_PLUGIN_WITH_CODE.

	* libhildondesktop/libhildondesktop.h: Add hd-notification-plugin.h.

	* libhildondesktop/libhildondesktop.pc.in: Add
	hildonnotificationdesktopentrydir variable.

2008-09-03  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 2.1.2

2008-08-29  Jan Arne Petersen  <jpetersen@openismus.com>

	* libhildondesktop/hd-plugin-manager.c (create_sync_lists,
	  cmp_info_plugin_id, cmp_info_desktop_file,
	  hd_plugin_manager_sync_plugins): Reload plugin if the
	  X-Desktop-File value in the plugin configuration file changed.

2008-08-29  Jan Arne Petersen  <jpetersen@openismus.com>

	* doc/libhildondesktop-docs.xml: Add HDPluginItem documentation.

	* doc/libhildondesktop-sections.txt: Add HDPluginItem documentation.
	Update HDPluginManager, HDStatusPluginItem documentation.

	* libhildondesktop/hd-config.h: Remove unused definitions.

	* libhildondesktop/hd-plugin-item.c: Add documentation.

	* libhildondesktop/hd-plugin-loader-default.c
	  (hd_plugin_loader_default_open_module): Strip leading and trailing
	  whitespaces from key file string.

	* libhildondesktop/hd-plugin-loader-factory.c
	  (hd_plugin_loader_factory_create): Strip leading and trailing
	  whitespaces from key file string.

	* libhildondesktop/hd-plugin-manager.c: Update documentation.
	  (hd_plugin_manager_configuration_loaded,
	  hd_plugin_manager_plugin_configuration_loaded): Strip leading and trailing
	  whitespaces from key file string.

	* libhildondesktop/hd-plugin-manager.h (plugin_module_added,
	  plugin_module_removed): Rename argument name.

	* libhildondesktop/hd-status-plugin-item.c: Update documentation.

2008-08-25  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac: Add libiphb dependency
	* debian/control: Add libiphb-dev dependency
	* libhildondesktop/hd-status-plugin-item.c (heartbeat_source_new): Add
	new iphb based heartbeat source.
	  (hd_status_plugin_item_heartbeat_signal_add): Use heartbeat source
	  ih iphb is avaiable.

2008-08-22  Jan Arne Petersen  <jpetersen@openismus.com>

	* examples/status-menu/example-clock-status-menu-item.c
	  (example_clock_status_menu_item_timeout_cb,
	  example_clock_status_menu_item_init): Add an example for the
	  heartbeat function.

	* libhildondesktop/hd-status-plugin-item.c
	  (hd_status_plugin_item_heartbeat_signal_add): Add a heartbeat
	  function (g_timeout_add implementation).
	* libhildondesktop/hd-status-plugin-item.h:

2008-08-22  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac: Update version.

2008-08-22  Jan Arne Petersen  <jpetersen@openismus.com>

	* libhildondesktop/hd-plugin-manager.c
	  (hd_plugin_manager_finalize): Free the load priority data.
	  (hd_plugin_manager_load_plugin_configuration): Add function to load
	  the plugin configuration file and emit the
	  ::plugin-configuration-loaded signal.
	  (hd_plugin_manager_configuration_loaded): Call the
	  hd_plugin_manager_load_plugin_configuration function instead of
	  loading the plugin.
	  (hd_plugin_manager_plugin_configuration_loaded): Add a default
	  method handler for the ::plugin-configuration-loadded signal, which
	  loads the plugins (from the plugin configuration and the
	  .desktop-dir).
	  (hd_plugin_manager_get_property, hd_plugin_manager_class_init): Add
	  plugin-config-key property for the plugin configuration GKeyFile.
	  (hd_plugin_manager_get_plugin_config_key_file): Add a function which
	  returns the plugin configuration GKeyFile.
	  (hd_plugin_manager_set_load_priority_func): Add a function which
	  allows to set a function which set the load priority for plugins.
	* libhildondesktop/hd-plugin-manager.h: Add new function protoypes

	* libhildondesktop/hd-plugin-configuration.h (deleted):
	* libhildondesktop/hd-plugin-configuration.c (deleted):
	* libhildondesktop/Makefile.am: Remove HDPluginConfiguration class
	after the relevant code was moved to
	hd_plugin_manager_plugin_configuration_loaded.

2008-08-15  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac: Increase version.

	* examples/status-menu/Makefile.am: Fix SOURCES for
	example-signal-status-area-item plugin.

	* examples/status-menu/example-clock-status-menu-item.c: Update
	example to contain a Status Area widget.

	* libhildondesktop/Makefile.am: Add HDPluginConfiguration and
	HDPluginItem.

	* libhildondesktop/hd-plugin-configuration.c:
	* libhildondesktop/hd-plugin-configuration.h: Add
	HDPluginConfiguration class which adds support for a plugin
	configuration file.

	* libhildondesktop/hd-plugin-item.c:
	* libhildondesktop/hd-plugin-item.h: Add HDPluginItem interface which
	must supports a plugin-id property to identify the plugin (Required
	to support multiple instances of a plugin).

	* libhildondesktop/hd-status-plugin-item.c:
	* libhildondesktop/hd-status-plugin-item.h: Implement the HDPluginItem
	interface.

	* libhildondesktop/hd-plugin-loader-factory.c:
	  (hd_plugin_loader_factory_new, hd_plugin_loader_factory_create):
	* libhildondesktop/hd-plugin-loader-factory.h:
	* libhildondesktop/hd-plugin-loader.c (hd_plugin_loader_load):
	* libhildondesktop/hd-plugin-loader.h (load):
	* libhildondesktop/hd-plugin-loader-default.c
	  (hd_plugin_loader_default_open_module,
	  hd_plugin_loader_default_load): Add support for multiple instances
	  of a plugin by supporting a plugin id argument to identify the
	  plugin instance.

	* libhildondesktop/hd-plugin-module.h:
	* libhildondesktop/hd-plugin-module.c
	  (hd_plugin_module_new_object): Add support for multiple instances of
	  a plugin by supporting a plugin id argument to identify the plugin
	  instance. Set the "plugin-id" property on object construction.
	  (hd_plugin_module_add_type): Make sure the plugin is a HDPluginItem.

	* libhildondesktop/hd-plugin-manager.c
	  (hd_plugin_manager_remove_plugin): Removes a plugin instance instead
	  of all instances.
	  (hd_plugin_manager_remove_plugin_module): Add function to remove all
	  instances of a plugin.
	  (hd_plugin_manager_load_plugin, hd_plugin_manager_plugin_module_added,
	  hd_plugin_manager_plugin_module_removed): Add support for multiple
	  plugin instances.
	  (create_sync_lists, cmp_info_plugin_id, cmp_info_desktop_file,
	  cmp_info_priority, hd_plugin_manager_sync_plugins,
	  hd_plugin_manager_configuration_loaded): Add support for multiple
	  plugin instances. Add support for loading plugin informations from a
	  plugin configuration file (specified in the config file by
	  X-Plugin-Configuration).

	* libhildondesktop/libhildondesktop.h: Add new headers.

2008-08-11  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 2.1.1

2008-08-10  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/libhildondesktop1-examples.install: Install all icons from
	the example directory.

	* examples/status-menu/Makefile.am: Add new examples. Add new icons.

	* examples/status-menu/example-battery-status-area-item.c
	* examples/status-menu/example-battery-status-area-item.h
	* examples/status-menu/example-battery.desktop: Add an example for the
	special Status Area icon.

	* examples/status-menu/example-signal-status-area-item.c
	* examples/status-menu/example-signal-status-area-item.h
	* examples/status-menu/example-signal.desktop: Add another example
	for the other special Status Area icon.

	* examples/status-menu/example-button-status-menu-item.c
	  (example_button_status_menu_item_timeout_cb): Add support for a
	  Status Area icon.

	* examples/status-menu/example-icon-status-menu-item.c
	  (example_icon_status_menu_item_init): Add support for a Status Area
	  icon.

	* examples/status-menu/example-status-area-icon-1.png:
	* examples/status-menu/example-status-area-icon-2.png:
	* examples/status-menu/example-status-area-icon-3.png:
	* examples/status-menu/example-status-area-icon-4.png:
	* examples/status-menu/example-status-area-icon-battery.png:
	* examples/status-menu/example-status-area-icon-signal.png: Add Status
	Area example icons.

2008-08-10  Jan Arne Petersen  <jpetersen@openismus.com>

	* libhildondesktop/hd-plugin-manager.c (
	  hd_plugin_manager_load_configuration,
	  hd_plugin_manager_configuration_loaded,
	  hd_plugin_manager_class_init): Add "configuration-loaded" signal to
	  support loading of additional configuration options.

	* libhildondesktop/hd-plugin-manager.h (configuration_loaded): Add
	virtual function for "configuration-loaded" signal.

2008-08-07  Jan Arne Petersen  <jpetersen@openismus.com>


	* libhildondesktop/hd-plugin-module.h: Add
	HD_PLUGIN_MODULE_DL_FILENAME defintion.
	* libhildondesktop/hd-plugin-module.c (hd_plugin_module_new_object,
	  hd_plugin_module_add_type): Use type data instead of a plugin
	  property to store the dl filename.

	* libhildondesktop/hd-status-plugin-item.h
	(hd_status_plugin_item_get_dl_filename): Return const gchar* instead
	of gchar* (easier for debugging).
	(hd_status_plugin_item_get_dbus_g_connection): Added new function to
	return a DBusGConnection.

	* libhildondesktop/hd-status-plugin-item.c (
	  hd_status_plugin_item_get_dl_filename,
	  hd_status_plugin_item_get_dbus_connection): Use type data instead of
	  a property to store the dl filename.
	  (hd_status_plugin_item_get_dbus_g_connection): Added new function to
	return a DBusGConnection.

	* configure.ac: Add dbus-glib-1 dependency.

2008-08-06  Jan Arne Petersen  <jpetersen@openismus.com>

	* libhildondesktop/hd-status-plugin-item.c
	(hd_status_plugin_item_set_status_area_icon): Fix a bug if icon is
	NULL. Add notification of property change. Enhance documentation.

2008-07-24  Jan Arne Petersen  <jpetersen@openismus.com>

	* autogen.sh:
	* gtk-doc.make:
	* m4/gtk-doc.m4: Use newer gtk-doc templates. Should fix the gtk-doc
	problem. Don't call gtkdocize.

	* Makefile.am:
	* debian/rules: Reenable gtk-doc build.

	* debian/libhildondesktop1-dev.install: Add gtk-doc documentation
	to the -dev package.

	* configure.ac:
	* libhildondesktop/libhildondesktop.pc.in: Add datarootdir and
	datadir. Should fix the variable substitution problems.

2008-07-23  Jan Arne Petersen  <jpetersen@openismus.com>

	* Makefile.am: Remove doc from build.

	* debian/rules: disable gtk-doc.

2008-07-23  Jan Arne Petersen  <jpetersen@openismus.com>

	* autogen.sh: Add call to gtkdocize.

2008-07-23  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac: Hardcode hildonstatusmenudesktopentrydir, to be fixed
	later.

2008-07-23  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac: Don't need to expand the
	hildonstatusmenudesktopentrydir variable.

	* examples/status-menu/Makefile.am: Use
	hildonstatusmenudesktopentrydir for the .desktop files.

	* libhildondesktop/libhildondesktop.pc.in: Add
	hildonstatusmenudesktopentrydir variable to .pc file.

2008-07-23  Jan Arne Petersen  <jpetersen@openismus.com>

	* examples/status-menu/example-icon-status-menu-item.c (connection,
	  example_icon_status_menu_item_dispose,
	  example_icon_status_menu_item_class_init,
	  example_icon_status_menu_item_init): Add an example
	  hd_status_plugin_item_get_dbus_connection() function call.

	* libhildondesktop/hd-plugin-manager.c
	  (hd_plugin_manager_plugin_dir_changed,
	  hd_plugin_manager_load_plugin): Use g_debug() instead of g_warning()
	  for debug messages.

	* libhildondesktop/hd-plugin-module.c (hd_plugin_module_new_object):
	Set 'dl-filename' property to the module path.

	* libhildondesktop/hd-status-plugin-item.c
	  (hd_status_plugin_item_get_dl_filename,
	  hd_status_plugin_item_get_dbus_connection): Enhance the gtk-doc
	  documentation.

2008-07-23  Jan Arne Petersen  <jpetersen@openismus.com>

	reviewed by: <delete if not using a buddy>
	patch by: <delete if not someone else's patch>

	* examples/status-menu/example-icon-status-menu-item.c (connection,
	  example_icon_status_menu_item_finalize,
	  example_icon_status_menu_item_class_init,
	  example_icon_status_menu_item_init):
	* libhildondesktop/hd-status-plugin-item.c
	  (hd_status_plugin_item_get_dl_filename):

2008-07-23  Jan Arne Petersen  <jpetersen@openismus.com>

	* examples/status-menu/example-button-status-menu-item.c
	  (example_button_status_menu_item_init): Replace HildonButton with
	  GtkButton for now.
	* examples/status-menu/example-clock-status-menu-item.c
	  (example_clock_status_menu_item_timeout_cb,
	  example_clock_status_menu_item_init): Replace HildonButton with
	  GtkButton.

	* gtk-doc.make: Add missing Makefile for gtk-doc documenation.

2008-07-22  Jan Arne Petersen  <jpetersen@openismus.com>

	* libhildondesktop/hd-plugin-manager.c
	(hd_plugin_manager_plugin_dir_changed): Fix a bug with plugins
	installed by dpkg.

2008-07-22  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/changelog:
	* debian/control:
	* debian/libhildondesktop1-dev.install:
	* debian/libhildondesktop1-examples.install:
	* debian/libhildondesktop1.install:
	* debian/rules: Add debian packaging files.

2008-07-22  Jan Arne Petersen  <jpetersen@openismus.com>

	* libhildondesktop/hd-status-menu-item.c:
	* libhildondesktop/hd-status-menu-item.h: Remove
	hd_status_menu_item_get_dbus_connection function.

	* libhildondesktop/hd-status-plugin-item.h:
	* libhildondesktop/hd-status-plugin-item.c
	(hd_status_plugin_item_get_dbus_connection): Add
	hd_status_plugin_item_get_dbus_connection function.

	* doc/libhildondesktop-sections.txt: Update gtk-doc.

	* libhildondesktop/libhildondesktop.pc.in: Add gnome-vfs and dbus as
	requirements.

2008-07-22  Jan Arne Petersen  <jpetersen@openismus.com>

	* libhildondesktop/hd-status-plugin-item.h:
	* libhildondesktop/hd-status-plugin-item.c
	(hd_status_plugin_item_finalize, hd_status_plugin_item_get_property,
	hd_status_plugin_item_set_property, hd_status_plugin_item_class_init,
	hd_status_plugin_item_set_status_area_icon): Rename ::dl-name property to
	::dl-filename.
	(hd_status_plugin_item_get_dl_filename): Add
	hd_status_plugin_item_get_dl_filename function.

	* doc/libhildondesktop-sections.txt: Add gtk-doc for new function.

2008-07-22  Jan Arne Petersen  <jpetersen@openismus.com>

	* doc/libhildondesktop-sections.txt:
	* libhildondesktop/hd-status-plugin-item.c
	  (hd_status_plugin_item_dispose, hd_status_plugin_item_finalize,
	  hd_status_plugin_item_get_property,
	  hd_status_plugin_item_set_property, hd_status_plugin_item_class_init,
	  hd_status_plugin_item_init,
	  hd_status_plugin_item_set_status_area_icon):
	* libhildondesktop/hd-status-plugin-item.h: Add ::status-area-icon and
	::dl-name properties to HDStatusPluginItem.

2008-07-22  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac:
	* examples/status-menu/Makefile.am:
	* libhildondesktop/Makefile.am: Add libdbus dependency.

	* libhildondesktop/hd-status-menu-item.h:
	* libhildondesktop/hd-status-menu-item.c
	(hd_status_menu_item_get_dbus_connection): Add convenience function
	for getting a private D-Bus session/system bus connection.

	* libhildondesktop/hd-status-plugin-item.h:
	* libhildondesktop/hd-status-plugin-item.c
	(hd_status_plugin_item_set_status_area_icon): Add function for setting
	the Status Area icon.

2008-07-22  Jan Arne Petersen  <jpetersen@openismus.com>

	* doc/libhildondesktop-docs.xml:
	* doc/libhildondesktop-sections.txt:
	* doc/libhildondesktop.types:
	* libhildondesktop/Makefile.am:
	* libhildondesktop/hd-status-menu-item.c:
	* libhildondesktop/hd-status-menu-item.h:
	* libhildondesktop/hd-status-plugin-item.c:
	* libhildondesktop/hd-status-plugin-item.h:
	* libhildondesktop/libhildondesktop.h:
	* libhildondesktop/hd-status-plugin-item.c (added):
	* libhildondesktop/hd-status-plugin-item.h (added):
	* libhildondesktop/hd-plugin-item.c (deleted):
	* libhildondesktop/hd-plugin-item.h (deleted): Renamed HDPluginItem
	into HDStatusPluginItem.

	* libhildondesktop/hd-status-area-item.c (deleted):
	* libhildondesktop/hd-status-area-item.h (deleted): Removed unused
	HDStatusArea interface.

2008-07-17  Jan Arne Petersen  <jpetersen@openismus.com>

	* Makefile.am:
	* configure.ac:
	* doc/*:
	* doc/libhildondesktop-docs.xml:
	* doc/libhildondesktop-sections.txt:
	* doc/libhildondesktop.types:
	* doc/version.xml.in: Add gtk-doc documentation support.

	* examples/status-menu/example-button-status-menu-item.c
	  (example_button_status_menu_item_class_init,
	  example_button_status_menu_item_init):
	* examples/status-menu/example-clock-status-menu-item.c
	  (example_clock_status_menu_item_dispose,
	  example_clock_status_menu_item_class_init,
	  example_clock_status_menu_item_init): Remove status-menu-map and
	  status-menu-unmap signals.

	* libhildondesktop/Makefile.am:
	* libhildondesktop/hd-plugin-item.c: 
	* libhildondesktop/hd-plugin-item.h: Add a new base class for plugable
	items.

	* libhildondesktop/hd-status-menu-item.c
	  (hd_status_menu_item_class_init):
	* libhildondesktop/hd-status-menu-item.h (HDStatusMenuItem,
	  HDStatusMenuItemClass): Remove status-menu-map and status-menu-unmap
	  signals. Use HDPluginItem as new parent class.

	* libhildondesktop/hd-plugin-module.h (HD_PLUGIN_MODULE_SYMBOLS_CODE):
	Update documentation.

2008-07-15  Jan Arne Petersen  <jpetersen@openismus.com>

	* README: Add some general information about the library.

	* libhildondesktop/hd-plugin-manager.c
	  (hd_plugin_manager_remove_plugin,
	  hd_plugin_manager_plugin_module_removed): Add a remove_plugin
	  function (required by the new sync_plugins function).

	  (create_sync_lists, hd_plugin_manager_sync_plugins): Add support for
	  syncing a new list of plugins with a list of already loaded plugins.

	  (hd_plugin_manager_get_property, hd_plugin_manager_class_init):
	  Change property "conf-file" to be write only (and construct only).

	  (hd_plugin_manager_load_configuration, hd_plugin_manager_run): Use
	  the new sync_plugins function to load all plugins. Move loading from
	  the run function to the load_configuration function (required by
	  configuration reloading support).

	  (hd_plugin_manager_set_property): Add support for reloading a changed
	  configuration file.

2008-07-14  Jan Arne Petersen  <jpetersen@openismus.com>

	Initial import.
